(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42a34aac"],{"3cd0":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{staticClass:"peopleManagement",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e.roles.indexOf("会议控制")>-1?a("el-tab-pane",{attrs:{label:"会议控制",name:"0"}},["0"===e.activeName?a("meetingControl"):e._e()],1):e._e(),e._v(" "),e.roles.indexOf("会议消息")>-1?a("el-tab-pane",{attrs:{label:"会议消息",name:"1"}},["1"===e.activeName?a("meetingMsg"):e._e()],1):e._e(),e._v(" "),e.roles.indexOf("会议通知")>-1?a("el-tab-pane",{attrs:{label:"会议通知",name:"2"}},["2"===e.activeName?a("meetingNotice"):e._e()],1):e._e(),e._v(" "),e.roles.indexOf("会议服务")>-1?a("el-tab-pane",{attrs:{label:"会议服务",name:"3"}},["3"===e.activeName?a("meetingService"):e._e()],1):e._e()],1)},n=[],s=(a("cc57"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"temporaryPlay-seach bg-w"},[a("span",{staticClass:"in-block  mr-16  "},[a("span",{staticClass:"com-tit-m12"},[e._v("收件人/接收人: ")]),e._v(" "),a("span",{staticClass:"w-157 in-block"},[a("el-input",{attrs:{clearable:""},model:{value:e.where.name,callback:function(t){e.$set(e.where,"name",t)},expression:"where.name"}})],1)]),e._v(" "),a("span",{staticClass:"in-block"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.fetchData}},[e._v(e._s(e.$t("table.search")))]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",plain:""},on:{click:e.fetchData}},[e._v(e._s(e.$t("table.refresh")))])],1)])]),e._v(" "),a("div",{staticClass:"temporaryPlay-table bg-w mt-8"},[a("div",{staticClass:"clear-float"},[a("div",{staticClass:" float-l"},[a("chooseMeet",{attrs:{showText:!1},on:{chooseMeetId:e.chooseMeetId}})],1),e._v(" "),a("div",{staticClass:"float-r"},[a("el-button",{attrs:{plain:""},on:{click:e.deleteMore}},[e._v("删除消息")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-position"},on:{click:e.addList}},[e._v("发送消息")])],1)]),e._v(" "),a("tl-table",{staticClass:"mt-10",attrs:{table:e.tableOption},on:{fetchData:e.pagination,onHandleSelectionChange:e.handleSelectionChange,handleLook:e.handleLook,handleDelete:e.handleDelete},scopedSlots:e._u([{key:"readFlag",fn:function(t){return[a("div",{staticClass:"spot2",class:0===t.obj.row.readFlag?"over":"suss"}),e._v(e._s(0===t.obj.row.readFlag?"未读":"已读")+"\n            ")]}}])})],1),e._v(" "),a("DialogBox",{attrs:{dialog:e.dialog,width:"733px"},on:{submit:e.submit}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"msgTips"},[e._v("\n            提示：此会议未启动，设备离线，人员需设备在线后接收此消息。\n        ")]),e._v(" "),a("div",{staticClass:"in-block power-radio",staticStyle:{width:"35%"}},[a("el-radio-group",{model:{value:e.ruleForm.relationType,callback:function(t){e.$set(e.ruleForm,"relationType",t)},expression:"ruleForm.relationType"}},[a("el-radio",{attrs:{label:0}},[e._v("按选择人员")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("按人员分组")])],1),e._v(" "),0===e.ruleForm.relationType?a("div",[a("tl-table",{ref:"table2",staticClass:"mt-10",attrs:{table:e.tableOption2},on:{onHandleSelectionChange:e.handleSelectionChange2}})],1):e._e(),e._v(" "),1===e.ruleForm.relationType?a("div",[a("tl-table",{ref:"table4",staticClass:"mt-10",attrs:{table:e.tableOption4},on:{onHandleSelectionChange:e.handleSelectionChange4}})],1):e._e()],1),e._v(" "),a("div",{staticClass:"in-block power-radio",staticStyle:{width:"35%"}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"85px"}},[a("el-form-item",{attrs:{prop:"content"}},[a("span",{},[e._v("消息内容")]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入发送内容"},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1)],1)],1)]),e._v(" "),a("DialogBox",{attrs:{dialog:e.dialog2,width:"733px"},on:{submit:e.submit2}},[a("el-form",{attrs:{model:e.ruleForm,"label-width":"155px"}},[a("span",{staticClass:"in-block"},[a("el-form-item",{attrs:{label:"发件人: ","label-width":"90px"}},[a("div",{staticClass:"w-70"},[a("span",[e._v(e._s(e.ruleForm.fromUserName))])])])],1),e._v(" "),a("span",{staticClass:"in-block"},[a("el-form-item",{attrs:{label:"收件人: ","label-width":"90px"}},[a("div",{staticClass:"w-70"},[a("span",[e._v(e._s(e.ruleForm.toUserName))])])])],1),e._v(" "),a("span",{staticClass:"in-block"},[a("el-form-item",{attrs:{label:"发件时间: ","label-width":"90px"}},[a("div",{staticClass:"w-180"},[a("span",[e._v(e._s(e.ruleForm.createTime))])])])],1),e._v(" "),a("span",{staticClass:"in-block"},[a("el-form-item",{attrs:{label:"消息内容: ","label-width":"90px"}},[a("div",{staticClass:"w-300"},[a("span",[e._v(e._s(e.ruleForm.content))])])])],1)]),e._v(" "),a("div",{})],1)],1)}),l=[],o={hasOperation:!0,hasSelect:!0,hasOnlySelect:!1,pagination:!0,height:539,index:!0,operation:{label:"操作",width:"",className:"",align:"left",data:[{label:"查看",Fun:"handleLook",id:"1",type:"text",isPlain:!0,status:"default"},{label:"删除",Fun:"handleDelete",id:"2",type:"text",isPlain:!0,status:"default"}]},tr:[{id:"1",label:"发件人",prop:"fromUserName",align:"left"},{id:"2",label:"收件人",prop:"toUserName",align:"left"},{id:"3",label:"发件时间",prop:"createTime",align:"left"},{id:"4",label:"消息内容",prop:"content",align:"left"},{id:"5",label:"状态",prop:"readFlag",align:"left",isTemplate:!0}],data:[]},r={content:[{required:!0,message:"请输入",trigger:"blur"}]},c={hasOperation:!1,hasSelect:!0,hasOnlySelect:!1,pagination:!1,height:200,tr:[{id:"1",label:"人员",prop:"userName",align:"left"}],data:[]},d={hasOperation:!1,hasSelect:!0,hasOnlySelect:!1,pagination:!1,height:200,hasSelectArray:[],tr:[{id:"1",label:"分组名称",prop:"tagName",align:"left"}],data:[]},u=a("b775");function m(e){return Object(u["a"])({url:"/meetingMessage/list",method:"POST",data:e})}function h(e){return Object(u["a"])({url:"/meetingMessage/send",method:"POST",data:e})}function g(e){return Object(u["a"])({url:"/meetingMessage/delete",method:"POST",data:e})}function p(e){return Object(u["a"])({url:"/meetingMessage/get/"+e,method:"get"})}function f(e){return Object(u["a"])({url:"/meetingMessage/updateStatus/"+e,method:"POST"})}function b(e){return Object(u["a"])({url:"/meetingUser/selectList/"+e,method:"get"})}function v(e){return Object(u["a"])({url:"/tag/list",method:"POST",data:e})}function _(e){return Object(u["a"])({url:"/meeting/get/"+e,method:"get"})}var w={name:"index",data:function(){return{where:{meetingId:"",name:"",pageFlag:0,pageIndex:0,pageSize:0},tableOption:o,tableOption2:c,tableOption4:d,dialog:{dialogVisible:!1,title:""},dialog2:{dialogVisible:!1,title:""},rules:r,ruleForm:{content:"",fromUserName:"admin",meetingId:0,relationType:0,userIds:[],createTime:"",userTagId:[],readFlag:"",toUserName:""},selectionArr:[],show:!0,status:""}},methods:{chooseMeetId:function(e){var t=this;""!==e?_(e).then((function(e){t.show=1!==e.data.meetingStatus})):this.tableOption.data=[],this.where.meetingId=e,this.fetchData(),this.fetchData2(e),this.fetchData4(e)},pagination:function(e){this.where.pageSize=e.pageSize,this.where.pageIndex=e.pageIndex,this.fetchData()},fetchData:function(){var e=this;""!==this.where.meetingId?m(this.where).then((function(t){e.tableOption.pageTotal=t.data.page.total,e.tableOption.data=t.data.list})):this.tableOption.data=[]},handleLook:function(e,t){var a=this;this.clear(),p(t.id).then((function(e){a.ruleForm=e.data,a.dialog2={dialogVisible:!0,title:"查看消息"},f(t.id),setTimeout((function(){a.fetchData()}),100)}))},submit2:function(){this.dialog2.dialogVisible=!1},addList:function(){this.clear(),this.dialog={dialogVisible:!0,title:"发送消息"}},fetchData2:function(e){var t=this;e&&b(e).then((function(e){t.tableOption2.data=e.data}))},handleSelectionChange2:function(e){this.ruleForm.userIds=e.map((function(e){return e.id}))},fetchData4:function(e){var t=this;e&&v({name:"",pageFlag:0,meetingId:e}).then((function(e){t.tableOption4.data=e.data.list}))},handleSelectionChange4:function(e){this.ruleForm.userTagIds=e.map((function(e){return e.id}))},handleDelete:function(e,t){this.isDelete([t.id])},deleteMore:function(){if(0!==this.selectionArr.length){var e=this.selectionArr.map((function(e){return e.id}));this.isDelete(e)}else this.$alertBox("pleaseChoose")},isDelete:function(e){var t=this;this.$confirmBox("delete").then((function(){g({ids:e}).then((function(e){t.$message({message:e.msg,type:"success",duration:1e3}),t.fetchData()}))}))},handleSelectionChange:function(e){this.selectionArr=e},submit:function(){var e=this;""!==this.where.meetingId?(console.log(this.$refs),this.$refs.ruleForm.validate((function(t){if(!t)return!1;e.ruleForm.meetingId=e.where.meetingId,h(e.ruleForm).then((function(t){e.$message({message:t.msg,type:"success",duration:1e3}),e.dialog.dialogVisible=!1,e.fetchData()}))}))):this.$alertBox("pleaseAddOrStartTheMeeting")},clear:function(){this.ruleForm={content:"",fromUserName:"admin",meetingId:0,relationType:0,userTagIds:[],createTime:""},void 0!=this.$refs.ruleForm&&this.$refs.ruleForm.resetFields(),void 0!=this.$refs.table2&&this.$refs.table2.clearSelections()}}},C=w,S=(a("aadd"),a("e90a")),O=Object(S["a"])(C,s,l,!1,null,"4083bd28",null),x=O.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"temporaryPlay-seach bg-w"},[a("span",{staticClass:"in-block  mr-16  "},[a("span",{staticClass:"com-tit-m12"},[e._v("发送人: ")]),e._v(" "),a("span",{staticClass:"w-157 in-block"},[a("el-input",{attrs:{clearable:""},model:{value:e.where.name,callback:function(t){e.$set(e.where,"name",t)},expression:"where.name"}})],1)]),e._v(" "),a("span",{staticClass:"in-block"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(t){return e.fetchData(e.where)}}},[e._v(e._s(e.$t("table.search")))]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",plain:""},on:{click:function(t){return e.fetchData(e.where)}}},[e._v(e._s(e.$t("table.refresh")))])],1)])]),e._v(" "),a("div",{staticClass:"temporaryPlay-table bg-w mt-8"},[a("div",{staticClass:"clear-float"},[a("div",{staticClass:" float-l"},[a("chooseMeet",{attrs:{showText:!1},on:{chooseMeetId:e.chooseMeetId}})],1),e._v(" "),a("div",{staticClass:"float-r"},[a("el-button",{attrs:{plain:""},on:{click:e.deleteMore}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmAll}},[e._v("确认全部")])],1)]),e._v(" "),a("tl-table",{staticClass:"mt-10",attrs:{table:e.tableOption},on:{fetchData:e.pagination,onHandleSelectionChange:e.handleSelectionChange,handleDelete:e.handleDelete,confirm:e.confirm},scopedSlots:e._u([{key:"status",fn:function(t){return[a("div",{staticClass:"spot2",class:0===t.obj.row.status?"over":"suss"}),e._v(e._s(0===t.obj.row.status?"未处理":"已处理")+"\n            ")]}}])})],1)])},I=[],D={hasOperation:!0,hasSelect:!0,hasOnlySelect:!1,pagination:!0,height:539,operation:{label:"操作",width:"",className:"",align:"left",data:[{label:"确认",Fun:"confirm",id:"1",type:"text",isPlain:!0,status:"hidden"},{label:"删除",Fun:"handleDelete",id:"4",type:"text",isPlain:!0,status:"default"}]},tr:[{id:"1",label:"发送人",prop:"fromUserName",align:"left"},{id:"2",label:"服务内容",prop:"content",align:"left"},{id:"3",label:"会议室",prop:"meetingRoomName",align:"left"},{id:"4",label:"发送时间",prop:"createTime",align:"left"},{id:"5",label:"状态",prop:"status",align:"left",isTemplate:!0},{id:"6",label:"处理时间",prop:"updateTime",align:"left"}],data:[]},k={issuesName:[{required:!0,message:"请输入",trigger:"blur"}]};function F(e){return Object(u["a"])({url:"/meetingServer/list",method:"POST",data:e})}function $(e){return Object(u["a"])({url:"/meetingServer/delete",method:"POST",data:e})}function N(e){return Object(u["a"])({url:"/meetingServer/updateStatus/"+e,method:"POST"})}function T(){return Object(u["a"])({url:"/meetingServer/updateAll",method:"get"})}var M={name:"index",data:function(){return{where:{fromUserName:"",meetingId:"",meetingRoomId:0,pageIndex:0,pageSize:0},tableOption:D,dialog:{dialogVisible:!1,title:""},rules:k,ruleForm:{status:""},status:"",votingOptions:"",votingOptionsArr:[],selectionArr:[]}},methods:{chooseMeetId:function(e){this.where.meetingId=e,this.fetchData()},pagination:function(e){this.where.pageSize=e.pageSize,this.where.pageIndex=e.pageIndex,this.fetchData()},fetchData:function(){var e=this;""!==this.where.meetingId?F(this.where).then((function(t){e.tableOption.pageTotal=t.data.page.total,e.tableOption.data=t.data.list.filter((function(e){return 1===e.status&&(e.btnFun="confirm"),e}))})):this.tableOption.data=[]},handleDelete:function(e,t){this.isDelete([t.id])},deleteMore:function(){if(0!==this.selectionArr.length){var e=this.selectionArr.map((function(e){return e.id}));this.isDelete(e)}else this.$alertBox("pleaseChoose")},isDelete:function(e){var t=this;this.$confirmBox("delete").then((function(){$({ids:e}).then((function(e){t.$message({message:e.msg,type:"success",duration:1e3}),t.fetchData()}))}))},confirm:function(e,t){var a=this;N(t.id),setTimeout((function(){a.fetchData()}),100)},confirmAll:function(){var e=this;T(),setTimeout((function(){e.fetchData()}),100)},handleSelectionChange:function(e){this.selectionArr=e},submit:function(){}}},j=M,P=Object(S["a"])(j,y,I,!1,null,"412c9778",null),A=P.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-8 bg-w",staticStyle:{padding:"90px 0 159px 83px"}},[e._m(0),e._v(" "),a("el-select",{staticClass:"mt-30",staticStyle:{width:"443px"},attrs:{placeholder:"请选择"},model:{value:e.meetingId,callback:function(t){e.meetingId=t},expression:"meetingId"}},e._l(e.meetingSelectList,(function(e){return a("el-option",{key:e.meetingId,attrs:{label:e.meetingName,value:e.meetingId}})})),1),e._v(" "),a("div",e._l(e.serviceArr,(function(t,i){return a("div",{key:i,staticClass:"service-list ponter",on:{click:function(a){return e.meetingConter(t.webName)}}},[a("svg-icon",{staticClass:"service-icon",attrs:{"icon-class":t.icon}}),e._v(" "),a("div",[e._v(e._s(t.tit))])],1)})),0)],1)},L=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"choos-tit"},[a("span",{staticClass:"xing"},[e._v("*")]),e._v("请选择需要控制的会议（启动中的会议）")])}];function E(){return Object(u["a"])({url:"/meetingControl/meetingSelectList",method:"get"})}function V(e){return Object(u["a"])({url:"/meetingControl/closeComputer/"+e,method:"get"})}function U(e){return Object(u["a"])({url:"/meetingControl/openComputer/"+e,method:"get"})}function z(e){return Object(u["a"])({url:"/meetingControl/down/"+e,method:"get"})}function W(e){return Object(u["a"])({url:"/meetingControl/up/"+e,method:"get"})}function q(e){return Object(u["a"])({url:"/meetingControl/stop/"+e,method:"get"})}function H(e){return Object(u["a"])({url:"/meetingControl/closeMeeting/"+e,method:"get"})}var K={data:function(){return{meetingId:"",serviceArr:[{icon:"ic_assignment1",tit:"显示欢迎页",webName:"welcome"},{icon:"ic_assignment2",tit:"锁定欢迎页",webName:"locking"},{icon:"ic_assignment3",tit:"解锁欢迎页",webName:"unlock"},{icon:"ic_assignment4",tit:"显示会议标语",webName:"slogan"},{icon:"ic_assignment5",tit:"关闭会议标语",webName:"closeSlogan"},{icon:"ic_home1",tit:"显示功能首页",webName:"home"},{icon:"ic_home2",tit:"显示投票页",webName:"vote"},{icon:"ic_home3",tit:"显示签到页",webName:"sign"},{icon:"ic_home5",tit:"结束同屏",webName:"closeSameScreen"},{icon:"ic_home_8",tit:"关闭白板",webName:"closeWhiteboard"},{icon:"ic_home4",tit:"统一开机",webName:"openComputer"},{icon:"ic_home6",tit:"统一关机",webName:"closeComputer"},{icon:"ic_home7",tit:"升降器上升",webName:"up"},{icon:"ic_home8",tit:"升降器下降",webName:"down"},{icon:"ic_home9",tit:"升降器停止",webName:"stop"},{icon:"ic_home10",tit:"关闭会议",webName:"closeMeeting"}],meetingSelectList:[]}},components:{},mounted:function(){var e=this;E().then((function(t){e.meetingSelectList=t.data}))},methods:{meetingConter:function(e){var t=this;if(""!==this.meetingId)if("openComputer"===e)this.$alertBox("openComputer").then((function(){U(t.meetingId).then((function(e){t.$message({message:e.msg,type:"success",duration:1e3})}))}));else if("closeComputer"===e)this.$alertBox("closeComputer").then((function(){V(t.meetingId).then((function(e){t.$message({message:e.msg,type:"success",duration:1e3})}))}));else if("up"===e)W(this.meetingId).then((function(e){t.$message({message:e.msg,type:"success",duration:1e3})}));else if("down"===e)z(this.meetingId).then((function(e){t.$message({message:e.msg,type:"success",duration:1e3})}));else if("stop"===e)q(this.meetingId).then((function(e){t.$message({message:e.msg,type:"success",duration:1e3})}));else if("sign"===e)this.$alertBox("singInWarning").then((function(){t.showPageFun(e)}));else if("closeSameScreen"===e){var a={deviceId:0,meetingId:this.meetingId,typeId:9};this.$websocket.dispatch("WEBSOCKET_SEND",{method:"closeSameScreen",jsonData:a}),this.$message({message:"关闭成功",type:"success",duration:1e3})}else"closeWhiteboard"===e?(this.$websocket.dispatch("WEBSOCKET_SEND",{method:"closeWhiteboard",jsonData:{deviceId:0,meetingId:this.meetingId,typeId:13}}),this.$message({message:"关闭成功",type:"success",duration:1e3})):"closeMeeting"===e?this.$alertBox("closeMeetingMsg").then((function(){H(t.meetingId).then((function(e){t.$message({message:e.msg,type:"success",duration:1e3})}))})):this.showPageFun(e);else this.$alertBox("pleaseSelectStartMeeting")},showPageFun:function(e){this.$websocket.dispatch("WEBSOCKET_SEND",{method:"showPage",jsonData:{page:e,screen:1,streamId:[],local:1,typeId:10,deviceId:0,meetingId:this.meetingId}}),this.$message({message:"操作成功",type:"success",duration:1e3})}}},J=K,R=(a("470c"),Object(S["a"])(J,B,L,!1,null,"3b882560",null)),G=R.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"temporaryPlay-seach bg-w"},[a("span",{staticClass:"in-block  mr-16  "},[a("span",{staticClass:"com-tit-m12"},[e._v("发布人: ")]),e._v(" "),a("span",{staticClass:"w-157 in-block"},[a("el-input",{attrs:{clearable:""},model:{value:e.where.name,callback:function(t){e.$set(e.where,"name",t)},expression:"where.name"}})],1)]),e._v(" "),a("span",{staticClass:"in-block"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.fetchData}},[e._v(e._s(e.$t("table.search")))]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",plain:""},on:{click:e.fetchData}},[e._v(e._s(e.$t("table.refresh")))])],1)]),e._v(" "),a("div",{staticClass:"temporaryPlay-table bg-w mt-8"},[a("div",{staticClass:"clear-float"},[a("div",{staticClass:" float-l"},[a("chooseMeet",{attrs:{showText:!1},on:{chooseMeetId:e.chooseMeetId}})],1),e._v(" "),a("div",{staticClass:"float-r"},[a("el-button",{attrs:{plain:""},on:{click:e.deleteMore}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-position"},on:{click:e.addList}},[e._v("发送通知")])],1)]),e._v(" "),a("tl-table",{staticClass:"mt-10",attrs:{table:e.tableOption},on:{fetchData:e.pagination,onHandleSelectionChange:e.handleSelectionChange,handleLook:e.handleLook,handleDelete:e.handleDelete}})],1),e._v(" "),a("DialogBox",{attrs:{dialog:e.dialog,width:"733px"},on:{submit:e.submit}},[a("div",{staticClass:"in-block power-radio",staticStyle:{width:"35%"}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"85px"}},[a("el-form-item",{attrs:{prop:"content"}},[a("div",{},[a("span",{},[e._v("消息内容")]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入发送内容"},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1)])],1)],1)]),e._v(" "),a("DialogBox",{attrs:{dialog:e.dialog2,width:"600px"},on:{submit:e.submit2}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"155px"}},[a("div",{staticClass:"in-block power-radio",staticStyle:{width:"35%"}},[a("el-form-item",{attrs:{label:"通知内容: ",prop:"content","label-width":"90px"}},[a("div",{staticClass:"w-378"},[a("span",[e._v(e._s(e.ruleForm.content))])])])],1)])],1)],1)},X=[],Y={hasOperation:!0,hasSelect:!0,hasOnlySelect:!1,pagination:!0,height:539,operation:{label:"操作",width:"",className:"",align:"left",data:[{label:"查看",Fun:"handleLook",id:"1",type:"text",isPlain:!0,status:"default"},{label:"删除",Fun:"handleDelete",id:"4",type:"text",isPlain:!0,status:"default"}]},tr:[{id:"1",label:"通知内容",prop:"content",align:"left"},{id:"2",label:"发送时间",prop:"createTime",align:"left"},{id:"3",label:"发布人",prop:"fromUserName",align:"left"}],data:[]},Z={content:[{required:!0,message:"请输入",trigger:"blur"}]};function ee(e){return Object(u["a"])({url:"/meetingNotice/list",method:"POST",data:e})}function te(e){return Object(u["a"])({url:"/meetingNotice/send",method:"POST",data:e})}function ae(e){return Object(u["a"])({url:"/meetingNotice/deleteNotice",method:"POST",data:e})}function ie(e){return Object(u["a"])({url:"/meetingNotice/get/"+e,method:"get"})}var ne={name:"index",data:function(){return{where:{meetingId:"",name:"",messageType:1,pageFlag:0,pageIndex:0,pageSize:0},tableOption:Y,dialog:{dialogVisible:!1,title:""},dialog2:{dialogVisible:!1,title:""},ruleForm:{meetingId:0,content:""},selectionArr:[],rules:Z}},methods:{chooseMeetId:function(e){this.where.meetingId=e,this.fetchData()},handleSelectionChange:function(e){this.selectionArr=e},pagination:function(e){this.where.pageSize=e.pageSize,this.where.pageIndex=e.pageIndex,this.fetchData()},fetchData:function(){var e=this;""!==this.where.meetingId?ee(this.where).then((function(t){e.tableOption.pageTotal=t.data.page.total,e.tableOption.data=t.data.list})):this.tableOption.data=[]},handleLook:function(e,t){var a=this;this.clear(),ie(t.id).then((function(e){a.ruleForm=e.data,a.dialog2={dialogVisible:!0,title:"会议通知"},a.fetchData()}))},submit2:function(){this.dialog2.dialogVisible=!1},addList:function(){this.clear(),this.dialog={dialogVisible:!0,title:"发送通知"}},submit:function(){var e=this;""!==this.where.meetingId?this.$refs.ruleForm.validate((function(t){if(!t)return!1;e.ruleForm.meetingId=e.where.meetingId,te(e.ruleForm).then((function(t){e.$message({message:t.msg,type:"success",duration:1e3}),e.dialog.dialogVisible=!1,e.fetchData()}))})):this.$alertBox("pleaseAddOrStartTheMeeting")},handleDelete:function(e,t){this.isDelete([t.id])},deleteMore:function(){if(0!==this.selectionArr.length){var e=this.selectionArr.map((function(e){return e.id}));this.isDelete(e)}else this.$alertBox("pleaseChoose")},isDelete:function(e){var t=this;this.$confirmBox("delete").then((function(){ae({ids:e}).then((function(e){t.$message({message:e.msg,type:"success",duration:1e3}),t.fetchData()}))}))},clear:function(){this.ruleForm={meetingId:0,content:""}}}},se=ne,le=Object(S["a"])(se,Q,X,!1,null,"570b535c",null),oe=le.exports,re=(a("8e9a"),{data:function(){return{activeName:this.$route.query.routerId}},components:{meetingControl:G,meetingMsg:x,meetingNotice:oe,meetingService:A},computed:{roles:function(){return this.$store.state.user.roles}},mounted:function(){},methods:{handleClick:function(e,t){this.$router.push({name:"MeetingMiddle",query:{routerId:e.name}})}}}),ce=re,de=Object(S["a"])(ce,i,n,!1,null,null,null);t["default"]=de.exports},"470c":function(e,t,a){"use strict";var i=a("593d"),n=a.n(i);n.a},"593d":function(e,t,a){},"5f1e":function(e,t,a){},aadd:function(e,t,a){"use strict";var i=a("5f1e"),n=a.n(i);n.a}}]);