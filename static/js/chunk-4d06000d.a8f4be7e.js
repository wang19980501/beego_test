(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d06000d"],{"05c9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{staticClass:"peopleManagement",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e.roles.indexOf("服务器参数")>-1?a("el-tab-pane",{attrs:{label:"服务器参数",name:"0"}},["0"===e.activeName?a("serverParameters"):e._e()],1):e._e(),e._v(" "),e.roles.indexOf("品牌信息设置")>-1?a("el-tab-pane",{attrs:{label:"品牌信息设置",name:"1"}},["1"===e.activeName?a("brandSet"):e._e()],1):e._e(),e._v(" "),e.roles.indexOf("系统管理员")>-1?a("el-tab-pane",{attrs:{label:"系统管理员",name:"2"}},["2"===e.activeName?a("systemAdmin"):e._e()],1):e._e(),e._v(" "),e.roles.indexOf("系统初始化")>-1?a("el-tab-pane",{attrs:{label:"系统初始化",name:"3"}},["3"===e.activeName?a("systemInitialization"):e._e()],1):e._e(),e._v(" "),e.roles.indexOf("API授权")>-1?a("el-tab-pane",{attrs:{label:"API授权",name:"4"}},["4"===e.activeName?a("APIMandate"):e._e()],1):e._e(),e._v(" "),e.roles.indexOf("操作日志")>-1?a("el-tab-pane",{attrs:{label:"操作日志",name:"5"}},["5"===e.activeName?a("operationLog"):e._e()],1):e._e()],1)},n=[],s=(a("cc57"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"temporaryPlay-seach bg-w"},[a("div",{staticClass:"w-300"},[a("span",{staticClass:"w-70"},[e._v("服务器IP：")]),e._v(" "),a("span",[a("el-select",{staticStyle:{width:"188px"},attrs:{placeholder:"请选择"},on:{change:e.change},model:{value:e.where.ip,callback:function(t){e.$set(e.where,"ip",t)},expression:"where.ip"}},e._l(e.ipArr,(function(e){return a("el-option",{key:e.id,attrs:{label:e.ip,value:e.ip}})})),1)],1)]),e._v(" "),a("div",{staticClass:"w-300"},[a("span",{staticClass:"w-70"},[e._v("子网掩码：")]),e._v(" "),a("span",[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.subnetMask,callback:function(t){e.$set(e.ruleForm,"subnetMask",t)},expression:"ruleForm.subnetMask"}})],1)]),e._v(" "),a("div",{staticClass:"w-300"},[a("span",{staticClass:"w-70"},[e._v("默认网关：")]),e._v(" "),a("span",[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.defaultGateway,callback:function(t){e.$set(e.ruleForm,"defaultGateway",t)},expression:"ruleForm.defaultGateway"}})],1)]),e._v(" "),a("div",{staticClass:"w-300"},[a("span",{staticClass:"w-70"},[e._v("端口：")]),e._v(" "),a("span",{staticStyle:{"margin-left":"32px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.port,callback:function(t){e.$set(e.ruleForm,"port",t)},expression:"ruleForm.port"}})],1)])])}),l=[],r=(a("6d57"),a("e10e"),a("b775"));function o(e){return Object(r["a"])({url:"/serverParameters/list",method:"POST",data:e})}function c(){return Object(r["a"])({url:"/serverParameters/listIp",method:"POST"})}var u={name:"index",data:function(){return{ipArr:{},where:{ip:""},ruleForm:{subnetMask:"",defaultGateway:"",port:""}}},mounted:function(){this.chooseIp()},methods:{chooseIp:function(){var e=this;c().then((function(t){e.ipArr=t.data,e.where.ip=t.data[Object.keys(t.data)[0]].ip,e.fetchData()}))},change:function(e){this.where.ip=e,this.fetchData()},fetchData:function(){var e=this;o(this.where).then((function(t){e.ruleForm=t.data}))}}},d=u,h=(a("4cf4"),a("e90a")),m=Object(h["a"])(d,s,l,!1,null,"24a2475f",null),p=m.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"temporaryPlay-seach bg-w"},[a("span",{staticClass:"in-block  mr-16  "},[a("span",{staticClass:"com-tit-m12"},[e._v("品牌名称: ")]),e._v(" "),a("span",{staticClass:"w-157 in-block"},[a("el-input",{attrs:{clearable:""},model:{value:e.where.name,callback:function(t){e.$set(e.where,"name",t)},expression:"where.name"}})],1)]),e._v(" "),a("span",{staticClass:"in-block"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(t){return e.fetchData(e.where)}}},[e._v(e._s(e.$t("table.search")))]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",plain:""},on:{click:function(t){return e.fetchData(e.where)}}},[e._v(e._s(e.$t("table.refresh")))])],1)]),e._v(" "),a("div",{staticClass:"temporaryPlay-table bg-w mt-8"},[a("div",{staticClass:"clear-float"},[e._m(0),e._v(" "),a("div",{staticClass:"float-r"},[a("el-button",{attrs:{plain:"",icon:"el-icon-delete"},on:{click:e.deleteMore}},[e._v("删除品牌信息")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addList}},[e._v("新增品牌信息")])],1)]),e._v(" "),a("tl-table",{staticClass:"mt-10",attrs:{table:e.tableOption},on:{fetchData:e.pagination,handleEdit:e.handleEdit,onHandleSelectionChange:e.handleSelectionChange,handleDelete:e.handleDelete},scopedSlots:e._u([{key:"status",fn:function(t){return[a("el-switch",{attrs:{value:0!==t.obj.row.status,"active-color":"#13ce66"},on:{change:function(a){return e.changeDoing(t.obj.row)}}})]}},{key:"filePath",fn:function(e){return[a("img",{staticClass:"avatar2",attrs:{src:"paperless/files/"+e.obj.row.filePath}})]}}])})],1),e._v(" "),a("DialogBox",{attrs:{dialog:e.dialog,width:"716.56px"},on:{submit:e.submit}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"85px"}},[a("span",{staticClass:"in-block power-radio",staticStyle:{width:"150px"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/paperless/file/upload?fileType=logo&typeId=0","show-file-list":!1,headers:e.myHeaders,data:e.data,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只支持jpg/png文件")])])],1),e._v(" "),a("span",{staticClass:"in-block",staticStyle:{width:"300px"}},[a("el-form-item",{attrs:{label:"品牌名称: ",prop:"value1"}},[a("el-input",{model:{value:e.ruleForm.brandName,callback:function(t){e.$set(e.ruleForm,"brandName",t)},expression:"ruleForm.brandName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应用状态: "}},[a("el-switch",{model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1)],1),e._v(" "),a("div",{staticStyle:{margin:"20px"}}),e._v(" "),a("el-form",{attrs:{"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"会议室列表：","label-width":"200px"}})],1),e._v(" "),a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange2},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("会议室名称")]),e._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange2},model:{value:e.ruleForm.meetingRoomIds,callback:function(t){e.$set(e.ruleForm,"meetingRoomIds",t)},expression:"ruleForm.meetingRoomIds"}},e._l(e.meetingRoomIdArr,(function(t){return a("el-checkbox",{key:t.id,staticClass:"table",attrs:{label:t.id}},[e._v(e._s(t.meetingRoomName))])})),1)],1)],1)],1)},g=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:" float-l"},[a("div",{staticClass:"com-tit-m1"},[e._v("系统参数")])])}],b={hasOperation:!0,hasSelect:!0,pagination:!0,height:539,operation:{label:"操作",width:"",className:"",align:"left",data:[{label:"编辑",Fun:"handleEdit",id:"1",type:"text",isPlain:!0,status:"default"},{label:"删除",Fun:"handleDelete",id:"2",type:"text",isPlain:!0,status:"default"}]},tr:[{id:"1",label:"应用范围",prop:"meetingRoomName",align:"left"},{id:"2",label:"终端品牌LOGO",prop:"filePath",align:"left",isTemplate:!0},{id:"3",label:"终端品牌名称",prop:"brandName",align:"left"},{id:"4",label:"应用状态",prop:"status",align:"left",isTemplate:!0}],data:[]},v={hasOperation:!1,hasSelect:!0,hasOnlySelect:!1,pagination:!1,height:200,tr:[{id:"1",label:"会议室名称",prop:"meetingRoomName",align:"left"}],data:[]};function _(e){return Object(r["a"])({url:"/brandSet/list",method:"POST",data:e})}function k(e){return Object(r["a"])({url:"/brandSet/save",method:"POST",data:e})}function w(e){return Object(r["a"])({url:"/brandSet/get/"+e,method:"get"})}function C(){return Object(r["a"])({url:"/meetingRoom/selectList",method:"get"})}function y(e){return Object(r["a"])({url:"/brandSet/delete",method:"POST",data:e})}function x(e){return Object(r["a"])({url:"/brandSet/update",method:"POST",data:e})}function F(e){return Object(r["a"])({url:"/brandSet/updateStatus",method:"POST",data:e})}var O=a("5f87"),S={name:"index",components:{},data:function(){return{myHeaders:{token:Object(O["d"])()},where:{pageIndex:0,pageSize:0,name:""},tableOption:b,tableOption2:v,rules:void 0,ruleForm:{brandName:"",meetingRoomIds:[],status:0,filePath:""},dialog:{dialogVisible:!1,title:""},imageUrl:"",typeId:"",selectionArr:[],value1:!1,data:{},filePath:"",checkedArrIds:[],isIndeterminate:!0,checkAll:!1,meetingRoomIdArr:[]}},mounted:function(){},methods:{pagination:function(e){this.where.pageSize=e.pageSize,this.where.pageIndex=e.pageIndex,this.fetchData(),this.fetchData2()},fetchData:function(){var e=this;_(this.where).then((function(t){e.tableOption.pageTotal=t.data.page.total,e.tableOption.data=t.data.list}))},fetchData2:function(){var e=this;C().then((function(t){e.meetingRoomIdArr=t.data,e.checkedArrIds=t.data.map((function(e){return e.id}))}))},handleCheckAllChange2:function(e){this.ruleForm.meetingRoomIds=e?this.checkedArrIds:[],this.isIndeterminate=!1},handleSelectionChange2:function(e){this.ruleForm.meetingRoomIds=e.map((function(e){return e.id}))},handleCheckedCitiesChange2:function(e){var t=e.length;this.checkAll=t===this.checkOptions.length,this.isIndeterminate=t>0&&t<this.checkOptions.length},handleSelectionChange:function(e){this.selectionArr=e},isDelete:function(e){var t=this;this.$confirmBox("delete").then((function(){y({ids:e}).then((function(e){t.$message({message:e.msg,type:"success",duration:1e3}),t.fetchData()}))}))},handleDelete:function(e,t){this.isDelete([t.id])},deleteMore:function(){if(0!==this.selectionArr.length){var e=this.selectionArr.map((function(e){return e.id}));this.isDelete(e)}else this.$alertBox("pleaseChoose")},addList:function(){this.clear(),this.dialog={dialogVisible:!0,title:"新增终端品牌信息"}},submit:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return!1;e.value1?e.ruleForm.status=1:e.ruleForm.status=0,"新增终端品牌信息"===e.dialog.title?k(e.ruleForm).then((function(t){e.$message({message:t.msg,type:"success",duration:1e3}),e.dialog.dialogVisible=!1,e.fetchData()})):x(e.ruleForm).then((function(t){e.$message({message:t.msg,type:"success",duration:1e3}),e.dialog.dialogVisible=!1,e.fetchData()}))}))},changeDoing:function(e){var t=this,a={id:e.id,status:0===e.status?1:0,brandName:e.brandName};F(a).then((function(e){t.$message({message:e.msg,type:"success",duration:1e3}),t.fetchData()}))},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw),this.ruleForm.filePath=e.data},beforeAvatarUpload:function(e){var t=this,a=e.size/1024/1024<3,i="image/jpeg"===e.type,n="image/png"===e.type;if(!n&&!i)return this.$message.error("上传LOGO图片只能是 JPG/png 格式!"),!1;if(!a)return this.$message.error("图片尺寸限制最小为40 x 40，大小不可超过3MB，比例为1:1"),!1;var s=new Promise((function(t,a){var i=window.URL||window.webkitURL,n=new Image;n.onload=function(){var e=!0;e?t():a()},n.src=i.createObjectURL(e)})).then((function(){return e}),(function(){return t.$message.error("图片尺寸限制最小为40 x 40，大小不可超过3MB，比例为1:1"),Promise.reject()})),l=new FormData;return l.append("file",this.file),this.data={formData:l},s},handleEdit:function(e,t){var a=this;this.clear(),w(t.id).then((function(e){a.ruleForm=e.data,a.imageUrl="paperless/files/"+e.data.filePath,a.dialog={dialogVisible:!0,title:"编辑会议"}}))},clear:function(){this.ruleForm={brandName:"",meetingRoomIds:[],status:0,filePath:""},this.filePath="",this.imageUrl=""}}},I=S,$=(a("d3dc"),Object(h["a"])(I,f,g,!1,null,null,null)),D=$.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"temporaryPlay-seach bg-w"},[a("span",{staticClass:"in-block  mr-16  "},[a("span",{staticClass:"com-tit-m12"},[e._v("用户名: ")]),e._v(" "),a("span",{staticClass:"w-157 in-block"},[a("el-input",{attrs:{clearable:""},model:{value:e.where.name,callback:function(t){e.$set(e.where,"name",t)},expression:"where.name"}})],1)]),e._v(" "),a("span",{staticClass:"in-block"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(t){return e.fetchData(e.where)}}},[e._v(e._s(e.$t("table.search")))]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",plain:""},on:{click:function(t){return e.fetchData(e.where)}}},[e._v(e._s(e.$t("table.refresh")))])],1)]),e._v(" "),a("div",{staticClass:"temporaryPlay-table bg-w mt-8"},[a("div",{staticClass:"clear-float"},[e._m(0),e._v(" "),a("div",{staticClass:"float-r"},[a("el-button",{attrs:{plain:"",icon:"el-icon-delete"},on:{click:e.deleteMore}},[e._v("删除管理员")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addList}},[e._v("新增管理员")])],1)]),e._v(" "),a("tl-table",{staticClass:"mt-10",attrs:{table:e.tableOption},on:{fetchData:e.pagination,onHandleSelectionChange:e.handleSelectionChange,handleEdit:e.handleEdit,handleDelete:e.handleDelete},scopedSlots:e._u([{key:"userType",fn:function(t){return[a("span",[e._v(e._s(1===t.obj.row.userType?"后台管理员":2===t.obj.row.userType?"呼叫服务终端":"信息发布终端"))])]}}])})],1),e._v(" "),a("DialogBox",{attrs:{dialog:e.dialog,width:"860px"},on:{submit:e.submit}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("span",{staticClass:"in-block"},[a("el-form-item",{attrs:{label:"账号",prop:"userName"}},[a("div",{staticClass:"w-200"},[a("el-input",{attrs:{placeholder:"字母或数字"},model:{value:e.ruleForm.userName,callback:function(t){e.$set(e.ruleForm,"userName",t)},expression:"ruleForm.userName"}})],1)])],1),e._v(" "),a("span",{staticClass:"in-block"},[a("el-form-item",{attrs:{label:"昵称",prop:"account"}},[a("div",{staticClass:"w-200"},[a("el-input",{model:{value:e.ruleForm.account,callback:function(t){e.$set(e.ruleForm,"account",t)},expression:"ruleForm.account"}})],1)])],1),e._v(" "),a("span",{staticClass:"in-block"},[a("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[a("div",{staticClass:"w-200"},[a("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1)])],1),e._v(" "),a("span",{staticClass:"in-block"},[a("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[a("div",{staticClass:"w-200"},[a("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.confirmPassword,callback:function(t){e.$set(e.ruleForm,"confirmPassword",t)},expression:"ruleForm.confirmPassword"}})],1)])],1),e._v(" "),a("span",{staticClass:"in-block"},[a("el-form-item",{attrs:{label:"用户类型",prop:"userType"}},[a("el-select",{staticClass:"w-200",attrs:{placeholder:"请选择用户类型"},model:{value:e.ruleForm.userType,callback:function(t){e.$set(e.ruleForm,"userType",t)},expression:"ruleForm.userType"}},[a("el-option",{attrs:{label:"后台管理用户",value:1}}),e._v(" "),a("el-option",{attrs:{label:"呼叫服务终端",value:2}}),e._v(" "),a("el-option",{attrs:{label:"信息发布终端",value:3}})],1)],1)],1),e._v(" "),1===e.ruleForm.userType||2===e.ruleForm.userType?a("span",[a("el-form-item",{attrs:{label:"权限选择","label-width":"95px",prop:"menuIds"}},[a("div",{staticClass:"systemAdmin"},[1===e.ruleForm.userType?a("el-tree",{ref:"tree",staticClass:"systemAdminTree clear-float",attrs:{data:e.menuData,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":!1,"expand-on-click-node":!1,"default-expanded-keys":["0"],props:e.defaultProps},on:{check:e.getChange}}):2===e.ruleForm.userType?a("div",[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.ruleForm.menuIds,callback:function(t){e.$set(e.ruleForm,"menuIds",t)},expression:"ruleForm.menuIds"}},e._l(e.meetingRoomIdArr,(function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.meetingRoomName))])})),1)],1):e._e()],1)])],1):e._e()])],1)],1)},P=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:" float-l"},[a("div",{staticClass:"com-tit-m1"},[e._v("系统管理员")])])}],T={hasOperation:!0,hasSelect:!0,pagination:!0,height:539,operation:{label:"操作",width:"",className:"",align:"left",data:[{label:"编辑",Fun:"handleEdit",id:"1",type:"text",isPlain:!0,status:"default"},{label:"删除",Fun:"handleDelete",id:"2",type:"text",isPlain:!0,status:"default"}]},tr:[{id:"1",label:"账号",prop:"userName",align:"left"},{id:"2",label:"昵称",prop:"account",align:"left"},{id:"3",label:"用户类型",prop:"userType",align:"left",isTemplate:!0},{id:"4",label:"创建时间",prop:"createTime",align:"left"},{id:"5",label:"最后登录时间",prop:"updateTime",align:"left"}],data:[]};function j(e){return Object(r["a"])({url:"/adminUser/list",method:"POST",data:e})}function N(e){return Object(r["a"])({url:"/adminUser/save",method:"POST",data:e})}function R(e){return Object(r["a"])({url:"/adminUser/delete",method:"POST",data:e})}function L(e){return Object(r["a"])({url:"/adminUser/get/"+e,method:"get"})}function U(e){return Object(r["a"])({url:"/adminUser/update",method:"POST",data:e})}function E(){return Object(r["a"])({url:"/adminMenu/list",method:"get"})}function M(e){return Object(r["a"])({url:"/meetingRoom/list",method:"POST",data:e})}var z={name:"index",components:{},data:function(){var e=this,t=function(t,a,i){""===a?i(new Error("请输入密码")):(""!==e.ruleForm.confirmPassword&&e.$refs.ruleForm.validateField("confirmPassword"),i())},a=function(t,a,i){""===a?i(new Error("请再次输入密码")):a!==e.ruleForm.password?i(new Error("两次输入密码不一致!")):i()};return{where:{pageIndex:0,pageSize:0,meetingId:0,name:""},menuData:[{label:"全部",id:"0",children:[]}],tableOption:T,ruleForm:{account:"",confirmPassword:"",menuIds:[],password:"",tag:"",userName:"",userType:""},dialog:{dialogVisible:!1},rules:{password:[{required:!0,validator:t,trigger:"blur"}],confirmPassword:[{required:!0,validator:a,trigger:"blur"}],userName:[{required:!0,message:"请输入账号",trigger:"change"}],userType:[{required:!0,message:"请选择用户类型",trigger:"change"}],menuIds:[{required:!0,message:"请选择所权限",trigger:"change"}],account:[{required:!0,message:"请输入昵称",trigger:"change"}]},checkOptions:{menuName:"",menuType:0,childList:[],id:""},childList:{id:"",menuName:"",menuUrl:"",parentId:"",menuType:""},checkedArrIds:[],isIndeterminate:!0,checkAll:!1,selectionArr:[],meetingRoomIdArr:[],defaultProps:{children:"children",label:"label"}}},mounted:function(){var e=this;E().then((function(t){e.menuData[0].children=t.data})),M({name:"",pageFlag:0}).then((function(t){e.meetingRoomIdArr=t.data.list,e.checkedArrIds=t.data.list.map((function(e){return e.id}))}))},methods:{chooseMeetId:function(e){this.where.meetingId=e,this.fetchData()},pagination:function(e){this.where.pageSize=e.pageSize,this.where.pageIndex=e.pageIndex,this.fetchData()},fetchData:function(){var e=this;""!==this.where.meetingId?j(this.where).then((function(t){e.tableOption.pageTotal=t.data.page.total,e.tableOption.data=t.data.list})):this.tableOption.data=[]},handleSelectionChange:function(e){this.selectionArr=e},handleDelete:function(e,t){this.isDelete([t.id])},handleEdit:function(e,t){var a=this;this.clear(),L(t.id).then((function(e){a.ruleForm=e.data,a.ruleForm.confirmPassword=a.ruleForm.password,a.dialog={dialogVisible:!0,title:"编辑管理用户"},1===a.ruleForm.userType&&a.onSetCheckedKeys(e.data.menuIds)}))},deleteMore:function(){if(0!==this.selectionArr.length){var e=this.selectionArr.map((function(e){return e.id}));this.isDelete(e)}else this.$alertBox("pleaseChoose")},isDelete:function(e){var t=this;this.$confirmBox("delete").then((function(){R({ids:e}).then((function(e){t.$message({message:e.msg,type:"success",duration:1e3}),t.fetchData()}))}))},addList:function(){this.clear(),console.log(this.ruleForm),this.dialog={dialogVisible:!0,title:"新增管理用户"},this.ruleForm.menuIds=this.checkedArrIds},submit:function(){var e=this;""!==this.where.meetingId?this.$refs.ruleForm.validate((function(t){if(!t)return!1;e.ruleForm.meetingId=e.where.meetingId,"新增管理用户"===e.dialog.title?N(e.ruleForm).then((function(t){e.$message({message:t.msg,type:"success",duration:1e3}),e.dialog.dialogVisible=!1,e.fetchData()})):U(e.ruleForm).then((function(t){e.$message({message:t.msg,type:"success",duration:1e3}),e.dialog.dialogVisible=!1,e.fetchData()}))})):this.$alertBox("pleaseAddOrStartTheMeeting")},getChange:function(){this.ruleForm.menuIds=this.$refs.tree.getCheckedKeys(!0)},onSetCheckedKeys:function(e){var t=this;this.$nextTick((function(){t.$refs.tree.setCheckedKeys(e)}))},clear:function(){this.ruleForm={account:"",confirmPassword:"",menuIds:[],password:"",tag:"",userName:"",userType:""},void 0!=this.$refs.ruleForm&&this.$refs.ruleForm.resetFields()},handleCheckAllChange:function(e){this.ruleForm.menuIds=e?this.checkedArrIds:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.checkOptions.length,this.isIndeterminate=t>0&&t<this.checkOptions.length},handleCheckAllChange2:function(e){this.ruleForm.menuIds=e?this.checkedArrIds:[],this.isIndeterminate=!1},handleCheckedCitiesChange2:function(e){var t=e.length;this.checkAll=t===this.checkOptions.length,this.isIndeterminate=t>0&&t<this.checkOptions.length}}},B=z,V=(a("5ccc"),Object(h["a"])(B,A,P,!1,null,null,null)),q=V.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-8 bg-w",staticStyle:{padding:"20px 0 0 24px"}},[a("div",{staticClass:"com-tit-m1"},[e._v("系统初始化")]),e._v(" "),a("div",{staticClass:"chhose-box"},[a("el-checkbox-group",{model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("div",[a("el-checkbox",{attrs:{label:"清空会议"}},[a("span",{staticClass:"com-tit-m1 in-block",staticStyle:{width:"80px"}},[e._v("清空会议")]),e._v(" "),a("span",{staticClass:"tips"},[e._v("清空会议将会清空所有会议信息,包括会议人员、会议资料、会议投票等信息")])])],1),e._v(" "),a("div",{staticClass:"mt-30"},[a("el-checkbox",{attrs:{label:"清空管理员"}},[a("span",{staticClass:"com-tit-m1 in-block",staticStyle:{width:"80px"}},[e._v("清空管理员")]),e._v(" "),a("span",{staticClass:"tips"},[e._v("清空管理员会清空所有新增管理员信息，还原默认管理员账户，账号admin，密码admin")])])],1)]),e._v(" "),a("el-button",{staticStyle:{"margin-top":"54px"},attrs:{type:"primary"},on:{click:e.clearMeeting}},[e._v("确 定")])],1)])},H=[];a("2b45");function K(){return Object(r["a"])({url:"/SystemInitialization/clearAdminUser",method:"POST"})}function J(){return Object(r["a"])({url:"/SystemInitialization/clearMeeting",method:"POST"})}var Q={name:"index",data:function(){return{checkList:[]}},methods:{clearMeeting:function(){var e=this;this.$confirmBox("initialize").then((function(){1===e.checkList.length?"清空会议"===e.checkList.slice(0,1).toString()?J():K():2===e.checkList.length&&(J(),K()),e.$message({message:"操作成功",type:"success",duration:1e3})}))}}},W=Q,X=(a("b0fd"),Object(h["a"])(W,G,H,!1,null,"985afe0a",null)),Y=X.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"temporaryPlay-table bg-w mt-8"},[a("div",{staticClass:"clear-float"},[a("div",{staticClass:"float-r"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addList}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{plain:"",icon:""},on:{click:e.handleStartSdk}},[e._v("启用")]),e._v(" "),a("el-button",{attrs:{plain:"",icon:""},on:{click:e.handleDisableSdk}},[e._v("禁用")]),e._v(" "),a("el-button",{attrs:{plain:"",icon:""},on:{click:e.deleteMore}},[e._v("删除")])],1)]),e._v(" "),a("tl-table",{staticClass:"mt-10",attrs:{table:e.tableOption},on:{fetchData:e.pagination,onHandleSelectionChange:e.handleSelectionChange,handleDelete:e.handleDelete},scopedSlots:e._u([{key:"status",fn:function(t){return[a("span",[e._v(e._s(0===t.obj.row.status?"启用":"禁用"))])]}}])})],1),e._v(" "),a("DialogBox",{attrs:{dialog:e.dialog,width:"500px"},on:{submit:e.submit}},[a("div",{staticClass:"in-block",staticStyle:{width:"30%"}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"85px"}},[a("div",{staticStyle:{width:"250px"}},[a("el-form-item",{attrs:{label:"app名称"}},[a("el-input",{attrs:{placeholder:"请输入app名称"},model:{value:e.ruleForm.appName,callback:function(t){e.$set(e.ruleForm,"appName",t)},expression:"ruleForm.appName"}})],1)],1),e._v(" "),a("div",{staticClass:"content",staticStyle:{width:"333px"}},[a("el-form-item",{attrs:{label:"app描述",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入app描述"},model:{value:e.ruleForm.account,callback:function(t){e.$set(e.ruleForm,"account",t)},expression:"ruleForm.account"}})],1)],1)])],1)])],1)},ee=[],te={hasOperation:!0,hasSelect:!0,pagination:!0,height:539,operation:{},tr:[{id:"1",label:"应用名称",prop:"userName",align:"left"},{id:"2",label:"应用描述",prop:"account",align:"left"},{id:"3",label:"token",prop:"token",align:"left"},{id:"4",label:"状态",prop:"status",align:"left",isTemplate:!0},{id:"5",label:"生成时间",prop:"createTime",align:"left"}],data:[]};function ae(e){return Object(r["a"])({url:"/adminUser/sdk/all",method:"POST",data:e})}function ie(e){return Object(r["a"])({url:"/adminUser/sdk",method:"POST",data:e})}function ne(e){return Object(r["a"])({url:"/adminUser/sdk/close/"+e,method:"get"})}function se(e){return Object(r["a"])({url:"/adminUser/sdk/open/"+e,method:"get"})}function le(e){return Object(r["a"])({url:"/adminUser/delete",method:"POST",data:e})}var re={name:"index",components:{},data:function(){return{where:{name:"",pageIndex:0,pageSize:0},tableOption:te,ruleForm:{appName:"",account:""},dialog:{dialogVisible:!1},rules:{},selectionArr:[]}},methods:{pagination:function(e){this.where.pageSize=e.pageSize,this.where.pageIndex=e.pageIndex,this.fetchData()},fetchData:function(){var e=this;ae(this.where).then((function(t){e.tableOption.pageTotal=t.data.page.total,e.tableOption.data=t.data.list}))},handleSelectionChange:function(e){this.selectionArr=e},addList:function(){this.clear(),this.dialog={dialogVisible:!0,title:"添加API授权"}},submit:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return!1;ie(e.ruleForm).then((function(t){e.$message({message:t.msg,type:"success",duration:1e3}),e.dialog.dialogVisible=!1,e.fetchData()}))}))},handleStartSdk:function(){var e=this;1===this.selectionArr.length?se(this.selectionArr[0].id).then((function(t){e.$message({message:t.msg,type:"success",duration:1e3}),e.fetchData()})):this.$alertBox("pleaseChoose")},handleDisableSdk:function(){var e=this;1===this.selectionArr.length?ne(this.selectionArr[0].id).then((function(t){e.$message({message:t.msg,type:"success",duration:1e3}),e.fetchData()})):this.$alertBox("pleaseChoose")},isDelete:function(e){var t=this;this.$confirmBox("delete").then((function(){le({ids:e}).then((function(e){t.$message({message:e.msg,type:"success",duration:1e3}),t.fetchData()}))}))},deleteMore:function(){if(0!==this.selectionArr.length){var e=this.selectionArr.map((function(e){return e.id}));this.isDelete(e)}else this.$alertBox("pleaseChoose")},clear:function(){this.ruleForm={appName:"",account:""}},handleDelete:function(){},checkAll:function(){}}},oe=re,ce=(a("a28b"),Object(h["a"])(oe,Z,ee,!1,null,"093c17c4",null)),ue=ce.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"temporaryPlay-seach bg-w"},[a("span",{staticClass:"in-block  mr-16  "},[a("span",{staticClass:"com-tit-m12"},[e._v("操作人员: ")]),e._v(" "),a("span",{staticClass:"w-157 in-block"},[a("el-input",{attrs:{clearable:""},model:{value:e.where.name,callback:function(t){e.$set(e.where,"name",t)},expression:"where.name"}})],1)]),e._v(" "),a("span",{staticClass:"in-block"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(t){return e.fetchData(e.where)}}},[e._v(e._s(e.$t("table.search")))]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",plain:""},on:{click:function(t){return e.fetchData(e.where)}}},[e._v(e._s(e.$t("table.refresh")))])],1)]),e._v(" "),a("div",{staticClass:"temporaryPlay-table bg-w mt-8"},[e._m(0),e._v(" "),a("tl-table",{staticClass:"mt-10",attrs:{table:e.tableOption},on:{fetchData:e.pagination}})],1)])},he=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clear-float"},[a("div",{staticClass:" float-l"},[a("div",{staticClass:"com-tit-m1"},[e._v("操作日志")])])])}],me={hasOperation:!1,hasSelect:!0,pagination:!0,height:539,operation:{},tr:[{id:"1",label:"操作时间",prop:"createTime",align:"left"},{id:"2",label:"操作内容",prop:"content",align:"left"},{id:"3",label:"操作用户",prop:"userName",align:"left"}],data:[]};function pe(e){return Object(r["a"])({url:"/log/list",method:"POST",data:e})}var fe={name:"index",components:{},data:function(){return{where:{pageIndex:1,pageSize:10,name:""},tableOption:me,ruleForm:{},rules:{}}},methods:{pagination:function(e){this.where.pageSize=e.pageSize,this.where.pageIndex=e.pageIndex,this.fetchData()},fetchData:function(){var e=this;pe(this.where).then((function(t){e.tableOption.pageTotal=t.data.page.total,e.tableOption.data=t.data.list}))}}},ge=fe,be=Object(h["a"])(ge,de,he,!1,null,null,null),ve=be.exports,_e={data:function(){return{activeName:this.$route.query.routerId}},components:{serverParameters:p,systemInitialization:Y,brandSet:D,systemAdmin:q,APIMandate:ue,operationLog:ve},computed:{roles:function(){return this.$store.state.user.roles}},mounted:function(){},methods:{handleClick:function(e,t){this.$router.push({name:"SystemManagement",query:{routerId:e.name}})}}},ke=_e,we=Object(h["a"])(ke,i,n,!1,null,null,null);t["default"]=we.exports},"190b":function(e,t,a){a("149f")&&"g"!=/./g.flags&&a("064e").f(RegExp.prototype,"flags",{configurable:!0,get:a("f1fe")})},"2b45":function(e,t,a){"use strict";a("190b");var i=a("69b3"),n=a("f1fe"),s=a("149f"),l="toString",r=/./[l],o=function(e){a("bf16")(RegExp.prototype,l,e,!0)};a("238a")((function(){return"/a/b"!=r.call({source:"a",flags:"b"})}))?o((function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!s&&e instanceof RegExp?n.call(e):void 0)})):r.name!=l&&o((function(){return r.call(this)}))},"38f8":function(e,t,a){},"4cf4":function(e,t,a){"use strict";var i=a("38f8"),n=a.n(i);n.a},"50cd":function(e,t,a){},"5ccc":function(e,t,a){"use strict";var i=a("fd80"),n=a.n(i);n.a},6495:function(e,t,a){},a28b:function(e,t,a){"use strict";var i=a("50cd"),n=a.n(i);n.a},b0fd:function(e,t,a){"use strict";var i=a("6495"),n=a.n(i);n.a},c1e4:function(e,t,a){},d3dc:function(e,t,a){"use strict";var i=a("c1e4"),n=a.n(i);n.a},fd80:function(e,t,a){}}]);